1,2d0
< # from typing import TYPE_CHECKING
< # from frappe import _ # Если будут пользовательские сообщения
4a3
> from typing import Optional
6c5
< class ServiceObject(Document):  # type: ignore[misc]
---
> class ServiceObject(Document):
8a8
>     linked_service_project: Optional[str]
12c12
<         self._clean_fields()
---
>         self._clean_fields()  # Ensure fields are cleaned before validation
16,17d15
<         # Логика из оригинального файла (service_object.py):
<         # if self.linked_service_project:
19c17
<         # Поля типа Link обычно не требуют strip(), так как хранят ID.
---
>         # Ensure linked_service_project is a string before stripping