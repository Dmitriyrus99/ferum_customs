--- a/tests/unit/test_file_attachment_utils.py
+++ b/tests/unit/test_file_attachment_utils.py
@@ -1,5 +1,4 @@
 import importlib
-
 import pytest
 
 
@@ -8,7 +7,7 @@
 
 
 def test_resolve_attachment_public(frappe_stub, tmp_path):
-    (tmp_path / "public" / "files").mkdir(parents=True)
+    (tmp_path / "public" / "files").mkdir(parents=True, exist_ok=True)
     utils = importlib.reload(get_utils())
     path, base, name = utils._resolve_attachment_path("/files/test.txt", False)
     assert path == (tmp_path / "public" / "files" / "test.txt").resolve()
@@ -23,7 +22,7 @@
 
 
 def test_resolve_attachment_traversal(frappe_stub, tmp_path):
-    (tmp_path / "public" / "files").mkdir(parents=True)
+    (tmp_path / "public" / "files").mkdir(parents=True, exist_ok=True)
     utils = importlib.reload(get_utils())
     with pytest.raises(frappe_stub.PermissionError):
-        utils._resolve_attachment_path("/files/../secret.txt", False)
+        utils._resolve_attachment_path("/files/../secret.txt", False)