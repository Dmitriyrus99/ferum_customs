--- a/tests/unit/test_api_invoice.py
+++ b/tests/unit/test_api_invoice.py
@@ -20,7 +20,7 @@
     invoice_doc = SimpleNamespace(
         name="INV001",
         append=lambda field, item: items.append(item),
-        insert=lambda ignore_permissions: None,  # Removed default parameter
+        insert=lambda ignore_permissions: None,  # Placeholder for insert logic
     )
 
     def get_doc(doctype, name=None):
@@ -32,9 +32,10 @@
         raise AssertionError("unexpected doctype")
 
     frappe_stub.get_doc = get_doc
-    frappe_stub.db.exists = lambda *a, **k: False  # Ensure this is controlled
+    frappe_stub.db.exists = lambda *a, **k: False  # Mocking database existence check
 
     result = api.create_invoice_from_report("SR1")
     assert result == "INV001"
     assert items and items[0]["description"] == "Work"
-    # Additional assertions can be added here to verify the invoice details
+    assert len(items) == 1  # Ensure only one item is appended
+    # Additional assertions can be added here to verify the invoice details
