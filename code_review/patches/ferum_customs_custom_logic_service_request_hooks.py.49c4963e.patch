--- a/ferum_customs/custom_logic/service_request_hooks.py
+++ b/ferum_customs/custom_logic/service_request_hooks.py
@@ -45,7 +45,7 @@
 
 def on_update_after_submit(doc: ServiceRequest, method: str | None = None) -> None:
     """Вызывается после обновления отправленного документа."""
-    if doc.status == STATUS_ZAKRYTA:
+    if doc.status == STATUS_ZAKРЫTA:
         _notify_project_manager(doc)
 
 
@@ -91,7 +91,7 @@
 # --------------------------------------------------------------------------- #
 
 
-@frappe.whitelist()  # type: ignore[misc]
+@frappe.whitelist(allow_guest=False)  # type: ignore[misc]
 def get_engineers_for_object(service_object_name: str) -> list[str]:
     """Возвращает список инженеров, назначенных на объект обслуживания."""
     if not service_object_name:
@@ -130,7 +130,7 @@
     try:
         recipients = frappe.get_all(
             "User",
-            filters={"enabled": 1, "roles.role": ROLE_PROEKTNYJ_MENEDZHER},
+            filters={"enabled": 1, "roles.role": ROLE_PROEKTNYJ_MENЕДZHER},
             pluck="name",
             distinct=True,
         )
@@ -146,7 +146,7 @@
         if not recipients:
             frappe.logger(__name__).warning(
                 _("Получатели с ролью '{0}' не найдены для уведомления.").format(
-                    ROLE_PROEKTNYJ_MENEDZHER
+                    ROLE_PROEKTNYJ_MENЕДZHER
                 )
             )
             return
@@ -185,4 +185,4 @@
         frappe.logger(__name__).error(
             f"Не удалось отправить уведомление о закрытии заявки '{doc.name}': {e}",
             exc_info=True,
-        )
+        )
