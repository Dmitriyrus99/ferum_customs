--- a/docker-compose.yml
+++ b/docker-compose.yml
@@ -1,10 +1,9 @@
-
 services:
   db:
     image: mariadb:${MARIADB_TAG:-10.6}
     dns: [1.1.1.1, 9.9.9.9]
     environment:
-      MYSQL_ROOT_PASSWORD: ${DB_ROOT_PASSWORD}
+      MYSQL_ROOT_PASSWORD: ${DB_ROOT_PASSWORD:?DB_ROOT_PASSWORD not set}
       MYSQL_ROOT_HOST: ${DB_ROOT_HOST:-%}
     volumes:
       - db-data:/var/lib/mysql
@@ -17,9 +16,9 @@
   redis:
     image: redis:latest
     dns: [1.1.1.1, 9.9.9.9]
-    command: ["redis-server", "--appendonly", "yes", "--requirepass", "${REDIS_PASSWORD}"]
+    command: ["redis-server", "--appendonly", "yes", "--requirepass", "${REDIS_PASSWORD:?REDIS_PASSWORD not set}"]
     environment:
-      REDIS_PASSWORD: ${REDIS_PASSWORD}
+      REDIS_PASSWORD: ${REDIS_PASSWORD:?REDIS_PASSWORD not set}
     volumes:
       - redis-data:/data
     healthcheck:
@@ -38,14 +37,14 @@
         ERPNEXT_BRANCH: ${ERPNEXT_BRANCH:-version-15}
     dns: [1.1.1.1, 9.9.9.9]
     environment:
-      SITE_NAME: ${SITE_NAME}
+      SITE_NAME: ${SITE_NAME:?SITE_NAME not set}
       DB_HOST: db
-      DB_ROOT_PASSWORD: ${DB_ROOT_PASSWORD}
-      ADMIN_PASSWORD: ${ADMIN_PASSWORD}
-      REDIS_PASSWORD: ${REDIS_PASSWORD}
-      REDIS_CACHE: ${REDIS_CACHE:-redis://:{$REDIS_PASSWORD}@redis:6379/0}
-      REDIS_QUEUE: ${REDIS_QUEUE:-redis://:{$REDIS_PASSWORD}@redis:6379/1}
-      REDIS_SOCKETIO: ${REDIS_SOCKETIO:-redis://:{$REDIS_PASSWORD}@redis:6379/2}
+      DB_ROOT_PASSWORD: ${DB_ROOT_PASSWORD:?DB_ROOT_PASSWORD not set}
+      ADMIN_PASSWORD: ${ADMIN_PASSWORD:?ADMIN_PASSWORD not set}
+      REDIS_PASSWORD: ${REDIS_PASSWORD:?REDIS_PASSWORD not set}
+      REDIS_CACHE: ${REDIS_CACHE:-redis://:${REDIS_PASSWORD}@redis:6379/0}
+      REDIS_QUEUE: ${REDIS_QUEUE:-redis://:${REDIS_PASSWORD}@redis:6379/1}
+      REDIS_SOCKETIO: ${REDIS_SOCKETIO:-redis://:${REDIS_PASSWORD}@redis:6379/2}
     depends_on:
       db:
         condition: service_healthy
@@ -63,4 +62,4 @@
 volumes:
   sites:
   db-data:
-  redis-data:
+  redis-data:
