--- a/testvenv/lib/python3.12/site-packages/pip/_vendor/urllib3/contrib/_appengine_environ.py
+++ b/testvenv/lib/python3.12/site-packages/pip/_vendor/urllib3/contrib/_appengine_environ.py
@@ -16,7 +16,7 @@
     is much less restrictive, so generally you shouldn't need to check for it.
     see https://cloud.google.com/appengine/docs/standard/runtimes
     """
-    return is_appengine() and os.environ["APPENGINE_RUNTIME"] == "python27"
+    return is_appengine() and os.environ.get("APPENGINE_RUNTIME") == "python27"
 
 
 def is_local_appengine():
@@ -33,4 +33,4 @@
 
 def is_prod_appengine_mvms():
     """Deprecated."""
-    return False
+    return False
