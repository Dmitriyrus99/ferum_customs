--- a/docker/entrypoint.sh
+++ b/docker/entrypoint.sh
@@ -3,24 +3,27 @@
 
 echo "==> Ferum Customs entrypoint started"
 
+# Validate required environment variables
+: "${DB_ROOT_PASSWORD:?DB_ROOT_PASSWORD is required}"
+: "${ADMIN_PASSWORD:?ADMIN_PASSWORD is required}"
+: "${DB_HOST:=db}"
+: "${SITE_NAME:=}"
+
 cd /home/frappe/frappe-bench || { echo "No bench dir!"; exit 1; }
 
-# fix permissions
-chown -R frappe:frappe sites || true
-chown -R frappe:frappe logs  || true
+# Fix permissions
+chown -R frappe:frappe sites logs || true
 
-DB_HOST="${DB_HOST:-db}"
-SITE_NAME="${SITE_NAME:-}"
 INIT_LOCK_FILE="sites/${SITE_NAME}/.docker_site_initialized"
 
 echo "==> Waiting for MariaDB..."
-until mariadb -h "$DB_HOST" -P 3306 -uroot -p"${DB_ROOT_PASSWORD:-}" -e "SELECT 1" >/dev/null 2>&1; do
+until mariadb -h "$DB_HOST" -P 3306 -uroot -p"${DB_ROOT_PASSWORD}" -e "SELECT 1" >/dev/null 2>&1; do
   echo "   ... still waiting"
   sleep 2
 done
 echo "==> MariaDB ready."
 
-# idempotent site init
+# Idempotent site init
 if [[ -n "$SITE_NAME" ]]; then
   if [[ ! -f "$INIT_LOCK_FILE" ]]; then
     echo "==> First-time init for site $SITE_NAME"
@@ -30,16 +33,16 @@
     if [[ ! -f "sites/${SITE_NAME}/site_config.json" ]]; then
       echo "==> Creating site $SITE_NAME"
       bench new-site --no-mariadb-socket \
-        --admin-password "${ADMIN_PASSWORD:-}" \
-        --mariadb-root-password "${DB_ROOT_PASSWORD:-}" \
-        --db-host "${DB_HOST}" "${SITE_NAME}"
+        --admin-password "$ADMIN_PASSWORD" \
+        --mariadb-root-password "$DB_ROOT_PASSWORD" \
+        --db-host "$DB_HOST" "$SITE_NAME"
     else
       echo "==> site_config.json exists, skipping new-site"
     fi
 
     echo "==> Installing apps"
-    bench --site "${SITE_NAME}" install-app erpnext || echo "erpnext already?"
-    bench --site "${SITE_NAME}" install-app ferum_customs || echo "ferum_customs already?"
+    bench --site "$SITE_NAME" install-app erpnext || echo "erpnext already installed"
+    bench --site "$SITE_NAME" install-app ferum_customs || echo "ferum_customs already installed"
 
     touch "$INIT_LOCK_FILE"
   else
@@ -47,15 +50,15 @@
   fi
 
   echo "==> Running migrate"
-  bench --site "${SITE_NAME}" migrate || true
+  bench --site "$SITE_NAME" migrate || true
 
   echo "==> Create rq users / enable scheduler"
   bench create-rq-users || true
-  bench --site "${SITE_NAME}" enable-scheduler || true
-  bench set-config -g default_site "${SITE_NAME}" || true
+  bench --site "$SITE_NAME" enable-scheduler || true
+  bench set-config -g default_site "$SITE_NAME" || true
 fi
 
-# update common_site_config
+# Update common_site_config
 COMMON_CFG="sites/common_site_config.json"
 [ -f "$COMMON_CFG" ] || echo "{}" > "$COMMON_CFG"
 
@@ -81,8 +84,8 @@
 chown frappe:frappe "$COMMON_CFG"
 
 echo "==> bench set-config for redis"
-bench set-config -g redis_cache    "${REDIS_CACHE:-}" || true
-bench set-config -g redis_queue    "${REDIS_QUEUE:-}" || true
+bench set-config -g redis_cache "${REDIS_CACHE:-}" || true
+bench set-config -g redis_queue "${REDIS_QUEUE:-}" || true
 bench set-config -g redis_socketio "${REDIS_SOCKETIO:-}" || true
 
 echo "==> Build assets (non-fatal)"
@@ -92,4 +95,4 @@
 sed -i '/redis_cache/d;/redis_queue/d;/redis_socketio/d' Procfile || true
 
 echo "==> Starting CMD: $*"
-exec "$@"
+exec "$@"
