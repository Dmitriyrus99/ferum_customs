# üîß Codex –ó–∞–¥–∞–Ω–∏–µ: –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ `ferum_customs` –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞—É–¥–∏—Ç–∞

## üéØ –¶–µ–ª—å

–í–Ω–µ—Å—Ç–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç `ferum_customs` –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –≤—ã—è–≤–ª–µ–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–º—É CI/CD.

---

## üìå –ö–æ–Ω—Ç–µ–∫—Å—Ç (—Ä–µ–∑—é–º–µ –∞—É–¥–∏—Ç–∞)

- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –Ω–æ:
  - –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ (API + FSM)
  - –ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω deploy workflow
  - .env –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–∞—Å—Ç–∏—á–Ω–æ

- –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –º–∏–Ω–∏–º—É–º: –µ—Å—Ç—å `tests/unit/`, `integration/`, `e2e/`, –Ω–æ –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

- –°—Ç–∏–ª—å –∫–æ–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `pre-commit` (`ruff`, `black`, `mypy`), –Ω–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–º–ø–æ—Ä—Ç—ã –Ω–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã (I001)

- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞, –Ω–æ CI-–ø–∞–π–ø–ª–∞–π–Ω –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `docker-compose.test.yml` –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

---

## ‚úÖ –ó–∞–¥–∞—á–∏

### 1. üîç –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞

- –í—ã–∑–≤–∞—Ç—å `ruff check . --fix` –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤, –≤–∫–ª—é—á–∞—è:
  - `tests/unit/test_fsm.py`
  - `tests/test_imports.py`
  - `tests/integration/test_api_base.py`

### 2. üß™ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã:
  - `tests/unit/test_constants.py` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π `constants.py`
  - `tests/integration/test_service_api.py` ‚Äî –∑–∞–≥–ª—É—à–∫–∞ –¥–ª—è FastAPI endpoints
  - `tests/e2e/test_fsm_conversation.py` ‚Äî –±–∞–∑–æ–≤—ã–π FSM-—Å—Ü–µ–Ω–∞—Ä–∏–π —Å mock update

### 3. ‚öôÔ∏è –£–ª—É—á—à–µ–Ω–∏–µ CI

- –û–±–Ω–æ–≤–∏—Ç—å `.github/workflows/ci.yml`:
  - –î–æ–±–∞–≤–∏—Ç—å —à–∞–≥ –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ `docker-compose.test.yml`, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å
  - –î–æ–±–∞–≤–∏—Ç—å `pytest --cov=ferum_customs --cov-report=term-missing` –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è

### 4. üîê –†–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ:
  - –í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ `.env`
  - –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã –∏–∑ –∫–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `admin_password` –Ω–µ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω)

### 5. üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –û–±–Ω–æ–≤–∏—Ç—å `README.md` (–∏–ª–∏ `INSTALL.md`) —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ —à–∞–≥–∞–º–∏:
  - `pre-commit install`
  - `pytest`
  - `docker-compose` –∑–∞–ø—É—Å–∫

---

## üõë –ó–∞–ø—Ä–µ—â–µ–Ω–æ

- –£–¥–∞–ª—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥—É–ª–∏, —Ö—É–∫–∏, FSM, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏
- –ò–∑–º–µ–Ω—è—Ç—å API-–ø–æ–¥–ø–∏—Å–∏ –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

---

## ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–æ

- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `.py`, `.md`, `.yml`, `.toml`, `.env.example`, `.pre-commit-config.yaml`
- –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ç–∏–ª—å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–∫—Å—Ç—É—Ä—ã, –∑–∞–≥–ª—É—à–∫–∏, –º–æ–∫-–æ–±—ä–µ–∫—Ç—ã

---

## üì§ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü—Ä–æ–µ–∫—Ç —Å –≤–Ω–µ—Å—ë–Ω–Ω—ã–º–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏:
- –ü—Ä–æ–π–¥–µ–Ω `ruff check .`
- –ï—Å—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–ª–æ—ë–≤ (API, FSM, constants)
- `.env.example` –æ–±–Ω–æ–≤–ª—ë–Ω
- `.github/workflows/ci.yml` –ø–æ–∫—Ä—ã–≤–∞–µ—Ç `pytest --cov`
- –ù–µ—Ç –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

